// src/utils/constants.ts

/**
 * Константы проекта, определенные в Техническом Задании.
 *
 * Цвета (пункт 10 ТЗ), лимиты (пункт 5 ТЗ) и другие общие значения.
 */

// === Дизайн и Стили (пункт 10 ТЗ) ===
export const COLORS = {
  /** Основной цвет бренда */
  PRIMARY: '#0057B8',
  /** Акцентный цвет */
  ACCENT: '#16A34A',
  /** Цвет основного текста */
  TEXT: '#111827',
  /** Цатусы членства */
  MEMBERSHIP_STATUS: {
    /** Действующий */
    ACTIVE: '#16A34A', // Зеленый
    /** Истекает */
    EXPIRING: '#FACC15', // Желтый (предположительно, не указан в ТЗ)
    /** Истёк / Исключён */
    EXPIRED: '#EF4444', // Красный (предположительно, не указан в ТЗ)
  }
};

export const FONTS = {
  /** Основной шрифт */
  FAMILY: 'Inter, sans-serif',
  /** Веса шрифта, используемые в проекте */
  WEIGHTS: {
    REGULAR: 400,
    MEDIUM: 500,
    SEMIBOLD: 600,
    BOLD: 700,
  }
};

// === Лимиты и Ограничения (пункт 5 ТЗ) ===
export const LIMITS = {
  /** Лимиты для гостей */
  GUEST: {
    /** Максимальное количество ИИ-запросов в день */
    AI_DAILY_QUESTIONS: 3,
    /** Максимальная длина вопроса ИИ для гостей */
    AI_MAX_QUESTION_LENGTH: 500,
    /** Максимальная длина ответа ИИ для гостей (в токенах) */
    AI_MAX_RESPONSE_TOKENS: 400,
  },
  /** Лимиты для членов СРО */
  MEMBER: {
    /** Максимальная длина вопроса ИИ для членов */
    AI_MAX_QUESTION_LENGTH: 2000,
    /** Максимальная длина ответа ИИ для членов (в токенах) */
    AI_MAX_RESPONSE_TOKENS: 800,
    // Члены не имеют суточного лимита запросов
  },
  /** Ограничения для формы поддержки */
  SUPPORT: {
    /** Максимальный размер скриншота в байтах (5 МБ) */
    MAX_SCREENSHOT_SIZE_BYTES: 5 * 1024 * 1024,
    /** Допустимые MIME-типы для скриншотов */
    ALLOWED_SCREENSHOT_MIME_TYPES: ['image/jpeg', 'image/png', 'image/webp', 'image/gif'],
  }
};

// === Конфигурация приложения ===
export const APP_CONFIG = {
  /** Название приложения */
  NAME: 'СРО НОСО - Платформа для членов',
  /** Описание по умолчанию (может переопределяться на страницах) */
  DESCRIPTION: 'Официальная онлайн-платформа для членов Саморегулируемой организации НОСО. Авторизация по ИНН, каталог документов, ИИ-консультант.',
  /** Язык по умолчанию */
  DEFAULT_LANGUAGE: 'ru',
  /** Домен для Plausible Analytics (должен соответствовать настройкам в index.html) */
  PLAUSIBLE_DOMAIN: 'sro-noso.ru', // TODO: Заменить на реальный домен
};

// === API и URL ===
// Базовый URL для Edge Functions, если отличается от стандартного Supabase URL
// export const EDGE_FUNCTIONS_BASE_URL = import.meta.env.VITE_EDGE_FUNCTIONS_BASE_URL || `${import.meta.env.VITE_SUPABASE_URL}/functions/v1`;

// === Ключи локального хранилища ===
export const STORAGE_KEYS = {
  /** Ключ для хранения состояния баннера о согласии на использование localStorage */
  CONSENT_BANNER_SHOWN: 'sro-noso-consent-banner-shown',
  /** Ключ для хранения идентификатора гостя для счетчика ИИ-запросов */
  GUEST_ID: 'sro-noso-guest-id',
  /** Ключ для хранения истории чата гостя */
  GUEST_CHAT_HISTORY: 'sro-noso-guest-chat-history',
  /** Ключ для хранения состояния формы поддержки (черновик) */
  SUPPORT_FORM_DRAFT: 'sro-noso-support-form-draft',
};

// === Регулярные выражения ===
export const REGEX = {
  /** Регулярное выражение для проверки ИНН (10 или 12 цифр) */
  INN: /^\d{10}$|^\d{12}$/,
  /** Регулярное выражение для проверки email */
  EMAIL: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
};

// === Временные константы ===
export const TIME = {
  /** Время жизни кэша данных реестра в миллисекундах (1 час) */
  REGISTRY_CACHE_TTL_MS: 60 * 60 * 1000, // 1 hour
  /** Время блокировки повторных попыток входа по ИНН после превышения лимита (10 минут) */
  LOGIN_ATTEMPT_BLOCK_TIME_MS: 10 * 60 * 1000, // 10 minutes
  /** Максимальное количество попыток входа по ИНН за период */
  MAX_LOGIN_ATTEMPTS: 5,
};
